###执行上下文

执行上下文是当前 JavaScript 代码被解析和执行时所在环境的抽象概念，JavaScript 中运行任何的代码都是在执行上下文中运行。 

执行上下文堆栈 = = ECMAScript程序的执行方式 ，用于存储在代码执行期间创建的所有执行上下文（执行栈）

采用推栈出栈的方法 全局上下文环境会一直处于顶层 

函数调用时，实际上创建函数上下文环境，执行函数上下文栈（压栈），调用完成后，函数上下文被推出。

###闭包

闭包:广义的闭包是指引用了自由变量的函数，但实际应用中的闭包是引用了外部函数作用域中的变量的内部函数。

闭包的官方解释：官方”的解释是：闭包是一个拥有许多变量和绑定了这些变量的环境的表达式（通常是一个函数），因而这些变量也是该表达式的一部分。 

**当函数a的内部函数b被函数a外的一个变量引用的时候，就创建了一个我们通常所谓的“闭包”。**

进一步理解就是在构造函数体内定义另外的函数作为目标对象的方法函数，而这个对象的方法函数反过来引用外层函数体中的临时变量。这使得只要目标对象在生存期内始终能保持其方法，就能间接保持原构造函数体当时用到的临时变量值。尽管最开始的构造函数调用已经结束，临时变量的名称也都消失了，但在目标对象的方法内却始终能引用到该变量的值，而且该值只能通这种方法来访问。即使再次调用相同的构造函数，但只会生成新对象和方法，新的临时变量只是对应新的值，和上次那次调用的是各自独立的。

个人觉得最合理的解释是因为闭包中引用的自由变量是保存在堆内存空间中，和对象的保存方式一样，不会被垃圾回收的，所以第二次调用，创建函数执行上下文时，这个值的初始状态保存在上次调用的状态。

​                                                              







